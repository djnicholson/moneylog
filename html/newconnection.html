<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../scss/_all.css"/>
    <title>moneylog - Add a connection</title>
  </head>
  <body>
    
    <form id="urlEntry" class="-step-0">
        <div>
            What is the web address you use to check your account balance?
            Be as specific as possible (e.g. use a link to the login page)
        </div>
        <div>
            <input type="url" value="https://" />
        </div>
        <div>
            <input type="submit" value="Next" />
        </div>
    </form>

    <form id="loginTest" class="-step-1">
        <div>
            Great, we've loaded that website in a new window.  First things first&hellip; Please confirm
            that you can login to your account in this window (we're not recording any credentials yet).
        </div>
        <div>
            If asked whether to trust this computer in the future select yes (or select no if asked whether this
            is a shared computer) &mdash; we need to make sure you are not prompted for a one-time security
            code when moneylog tries to check your balance in the future.
        </div>
        <div>
            Once you have logged in, click "Next".
        </div>
        <div>
            <input type="submit" value="Next" />
        </div>
    </form>

    <form id="recordingIntro" class="-step-2">
        <div>
            Ok, now we're going to record the steps that you take to login to this site.
            Click the "Next" button to load a new instance of this website, then answer the step-by-step
            questions to describe how you login to the site&hellip;
        </div>
        <div>
            <input type="submit" value="Next" />
        </div>
    </form>

    <form id="recording" class="-step-3">
        <div>
            This is your recipe so far&hellip;
        </div>
        <div>
            <ol class="-recipe-list">
            </ol>
        </div>
        <div>
            What is the next action to take to login to this site?
        </div>
        <div class="row">
            <div class="col-4">
                <h3>Click something&hellip;</h3>
                <div id="clickables"></div>
                <div class="-typable row">
                    <div class="col-12">
                        <div class="row">
                            <input type="text" id="customClickSelector" class="-selector col-12" placeholder="Enter a CSS selector"></input>
                        </div>
                        <div class="row">
                            <input type="button" id="addCustomClick" value="Click custom element" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-4">
                <h3>Type something&hellip;</h3>
                <div id="typables"></div>
                <div class="-typable row">
                    <div class="col-12">
                        <div class="row">
                            <input type="text" id="customTypeSelector" class="-selector col-6" placeholder="Enter a CSS selector"></input>
                            <input type="text" id="customTypeText" class="-value col-6" placeholder="Text to type"></input>
                        </div>
                        <div class="row">
                            <label><input id="customTypePressEnter" type="checkbox">Press enter afterwards</label>
                        </div>
                        <div class="row">
                            <input type="button" id="addCustomType" value="Type into custom element" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-4 -extraction-column">
                <h3>Extract some data&hellip;</h3>
                <div id="numbers"></div>
                <div class="-typable row">
                    <div class="col-12">
                        <div class="row">
                            <input type="text" id="customNumberSelector" class="-selector col-12" placeholder="Enter a CSS selector"></input>
                        </div>
                        <div class="row">
                            <input type="button" id="addCustomNumber" value="Extract number from custom element" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <input type="reset" value="Start again" />
            <input type="submit" value="Done" />
        </div>
    </form>

    <form id="testing" class="-step-4">
        <div>
            This is your recipe&hellip;
        </div>
        <div>
            <ol class="-recipe-list">
            </ol>
        </div>
        <div>
            Now it's time to test that it works.
        </div>
        <div>
            <input type="reset" value="Go back and start again" />
            <input type="submit" value="Test my recipe" />
        </div>
    </form>

    <form id="testResults" class="-step-5">
        <div>
            Your recipe is running now:
        </div>
        <div>
            <ol class="-recipe-list">
            </ol>
        </div>
    </form>

    <form id="saveConnection" class="-step-6">
        <div class="-success">
            <div>
                Your recipe returned the following result:
                <span class="-result"></span>
            </div>
            <div>
                What's the name of this account?
                <input type="text" id="accountName" pattern=".+" maxlength="128" />
                <input type="submit" value="Looks good, save this recipe" />
            </div>
            <div>
                <input type="reset" value="Go back and start again" />
            </div>
        </div>
        <div class="-failure">
            <div>Your recipe failed to run</div>
            <div><input type="reset" value="Go back and start again" /></div>
            <div><input type="button" value="Retry" id="retry" /></div>
        </div>
    </form>

    <script id="template-clickable" type="text/x-template">
        <div class="-clickable row">
            <div class="-selector col-5"></div>
            <div class="-value col-7"></div>
        </div>
    </script>

    <script id="template-typable" type="text/x-template">
        <div class="-typable row">
            <div class="col-12">
                <div class="row">
                    <div class="-selector col-5"></div>
                    <input type="text" class="-value col-7" placeholder="Text to type"></input>
                </div>
                <div class="row">
                    <label><input class="-press-enter" type="checkbox">Press enter afterwards</label>
                </div>
                <div class="row">
                    <input type="button" class="-add-to-recipe" value="Add" />
                </div>
            </div>
        </div>
    </script>

    <script id="template-number" type="text/x-template">
        <div class="-number row">
            <div class="-selector col-5"></div>
            <div class="-value col-7"></div>
        </div>
    </script>

    <script src="../js_renderer/_all.js"></script>
    <script src="../js_renderer/_newconnection.js"></script>
  </body>
</html>
